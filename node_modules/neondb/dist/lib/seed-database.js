import { neon } from '@neondatabase/serverless';
import { getSqlCommands } from './utils/fs.js';

async function seedDatabase(schemaFilePath, connectionString) {
  const client = neon(connectionString);
  const commands = getSqlCommands(schemaFilePath);
  for (const command of commands) {
    await client.query(command);
  }
}

export { seedDatabase };
